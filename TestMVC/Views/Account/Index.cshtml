@model IEnumerable<CodeChallengeMVC.Models.AccountModel>

@{
    ViewBag.Title = "Index";
}

<section id="wrapper">
    <header>
        <div class="title-container">
            <h1>Coding Test</h1>
        </div>
    </header>
    <main class="content" id="home-content">
        <div class="content-title-container">
            <h2>Accounts</h2>
        </div>
        <section id="account-grid">
            <section class="account-column" id="active-account-column">
                <div class="account-container-title" id="active-account-container-title">
                    <h3>Active</h3>
                </div>
                <div class="account-container" id="active-account" runat="server">
                    @foreach (var item in Model)
                    {
                        if (item.AccountStatusId == CodeChallengeMVC.Models.AccountStatuses.Active)
                        {
                            <ul class="account-data-list">
                                <li><label>Name:</label>@Html.DisplayFor(Modelitem => item.LastName),&nbsp;@Html.DisplayFor(Modelitem => item.FirstName) </li>
                                <li><label>Email:</label>@Html.DisplayFor(Modelitem => item.Email) </li>
                                <li><label>Phone Number:</label>@string.Format("{0:(###) ###-####}", Convert.ToInt64(item.PhoneNumber)) </li>
                                <li><label>Amount Due:</label>@item.AmountDue.ToString("c") </li>
                                <li><label>Due Date:</label>@string.Format("{0:MM/dd/yyyy}", item.PaymentDueDate) </li>
                            </ul>
                        }
                    }
                </div>
            </section>
            <section class="account-column" id="overdue-account-column">
                <div class="account-container-title" id="overdue-account-container-title">
                    <h3>Overdue</h3>
                </div>
                <div class="account-container" id="overdue-account" runat="server">
                    @foreach (var item in Model)
                    {
                        if (item.AccountStatusId == CodeChallengeMVC.Models.AccountStatuses.Overdue)
                        {
                            <ul class="account-data-list">
                                <li><label>Name:</label>@Html.DisplayFor(Modelitem => item.LastName),&nbsp;@Html.DisplayFor(Modelitem => item.FirstName) </li>
                                <li><label>Email:</label>@Html.DisplayFor(Modelitem => item.Email) </li>
                                <li><label>Phone Number:</label>@string.Format("{0:(###) ###-####}", Convert.ToInt64(item.PhoneNumber)) </li>
                                <li><label>Amount Due:</label>@item.AmountDue.ToString("c") </li>
                                <li><label>Due Date:</label>@string.Format("{0:MM/dd/yyyy}", item.PaymentDueDate) </li>
                            </ul>
                        }
                    }
                </div>                
            </section>
            <section class="account-column" id="inactive-account-column">
                <div class="account-container-title" id="inactive-account-container-title">
                    <h3>Inactive</h3>
                </div>
                <div class="account-container" id="inactive-account" runat="server">
                    @foreach (var item in Model)
                    {
                        if (item.AccountStatusId == CodeChallengeMVC.Models.AccountStatuses.Inactive)
                        {
                            <ul class="account-data-list">
                                <li><label>Name:</label>@Html.DisplayFor(Modelitem => item.LastName),&nbsp;@Html.DisplayFor(Modelitem => item.FirstName) </li>
                                <li><label>Email:</label>@Html.DisplayFor(Modelitem => item.Email) </li>
                                <li><label>Phone Number:</label>@string.Format("{0:(###) ###-####}", Convert.ToInt64(item.PhoneNumber)) </li>
                                <li><label>Amount Due:</label>@item.AmountDue.ToString("c") </li>
                                @if (item.PaymentDueDate != null || item.PaymentDueDate > DateTime.MinValue)
                                {
                                    <li><label>Due Date:</label>@string.Format("{0:MM/dd/yyyy}", item.PaymentDueDate) </li>
                                }
                            </ul>
                        }
                    }
                </div>
            </section>
        </section>
    </main>
</section>
